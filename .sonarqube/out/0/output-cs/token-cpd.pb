ß3
YC:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Repositories\Repository.cs
	namespace 	

DataAccess
 
. 
Repositories !
{ 
public 

class 

Repository 
< 
T 
> 
:  
IRepository! ,
<, -
T- .
>. /
where0 5
T6 7
:8 9
class: ?
,? @

BaseEntityA K
{ 
internal '
ReservationServiceDbContext ,
context- 4
;4 5
internal 
DbSet 
< 
T 
> 
set 
; 
public 

Repository 
( '
ReservationServiceDbContext 5
context6 =
)= >
{ 	
this 
. 
context 
= 
context "
;" #
this 
. 
set 
= 
context 
. 
Set "
<" #
T# $
>$ %
(% &
)& '
;' (
} 	
public 
async 
Task 
AddAsync "
(" #
T# $
entity% +
)+ ,
{ 	
await 
set 
. 
AddAsync 
( 
entity %
)% &
;& '
await 
this 
. 
context 
. 
SaveChangesAsync /
(/ 0
)0 1
;1 2
} 	
public 
async 
Task 
DeleteAsync %
(% &
Guid& *
id+ -
)- .
{   	
var!! 
entity!! 
=!! 
await!! 
GetByIdAsync!! +
(!!+ ,
id!!, .
)!!. /
;!!/ 0
await"" 
DeleteAsync"" 
("" 
entity"" $
)""$ %
;""% &
}## 	
public%% 
async%% 
Task%% 
DeleteAsync%% %
(%%% &
T%%& '
entity%%( .
)%%. /
{&& 	
if'' 
('' 
entity'' 
!='' 
null'' 
)'' 
{(( 
set)) 
.)) 
Remove)) 
()) 
entity)) !
)))! "
;))" #
await** 
context** 
.** 
SaveChangesAsync** .
(**. /
)**/ 0
;**0 1
}++ 
},, 	
public-- 
async-- 
Task-- 

ClearAsync-- $
(--$ %
)--% &
{.. 	
var// 
set// 
=// 
context// 
.// 
Set// !
<//! "
T//" #
>//# $
(//$ %
)//% &
;//& '
if00 
(00 
set00 
.00 
Any00 
(00 
)00 
)00 
{11 
context22 
.22 
RemoveRange22 #
(22# $
set22$ '
)22' (
;22( )
await33 
context33 
.33 
SaveChangesAsync33 .
(33. /
)33/ 0
;330 1
}44 
}55 	
public88 
async88 
Task88 
<88 
IReadOnlyList88 '
<88' (
T88( )
>88) *
>88* +
GetAllAsync88, 7
(887 8
int888 ;
?88; <

pageNumber88= G
=88H I
$num88J K
,88K L
int88M P
pageSize88Q Y
=88Z [
$num88\ ]
,88] ^

Expression88_ i
<88i j
Func88j n
<88n o
T88o p
,88p q
bool88r v
>88v w
>88w x
?88x y
	filtering	88z É
=
88Ñ Ö
null
88Ü ä
,
88ä ã
params
88å í
string
88ì ô
[
88ô ö
]
88ö õ
?
88õ ú
includes
88ù •
)
88• ¶
{99 	
var:: 
query:: 
=:: 
set:: 
.:: 
AsQueryable:: '
(::' (
)::( )
;::) *
if<< 
(<< 

pageNumber<< 
!=<< 
null<< "
)<<" #
query== 
=== 
await== 
query== #
.==# $
PaginateAsync==$ 1
(==1 2

pageNumber==2 <
.==< =
Value=== B
,==B C
pageSize==D L
)==L M
;==M N
if?? 
(?? 
	filtering?? 
!=?? 
null?? !
)??! "
query@@ 
=@@ 
query@@ 
.@@ 
Where@@ $
(@@$ %
	filtering@@% .
)@@. /
;@@/ 0
ifBB 
(BB 
includesBB 
!=BB 
nullBB  
&&BB! #
includesBB$ ,
.BB, -
LengthBB- 3
>BB4 5
$numBB6 7
)BB7 8
foreachCC 
(CC 
varCC 
propCC  
inCC! #
includesCC$ ,
)CC, -
queryDD 
=DD 
queryDD !
.DD! "
IncludeDD" )
(DD) *
propDD* .
)DD. /
;DD/ 0
returnFF 
awaitFF 
queryFF 
.FF 
ToListAsyncFF *
(FF* +
)FF+ ,
;FF, -
}GG 	
publicII 
asyncII 
TaskII 
<II 
TII 
?II 
>II 
GetByIdAsyncII *
(II* +
GuidII+ /
idII0 2
)II2 3
{JJ 	
returnKK 
awaitKK 
setKK 
.KK 
	FindAsyncKK &
(KK& '
idKK' )
)KK) *
;KK* +
}LL 	
publicNN 
asyncNN 
TaskNN 
UpdateAsyncNN %
(NN% &
TNN& '
entityNN( .
)NN. /
{OO 	
contextPP 
.PP 
EntryPP 
(PP 
entityPP  
)PP  !
.PP! "
StatePP" '
=PP( )
EntityStatePP* 5
.PP5 6
ModifiedPP6 >
;PP> ?
awaitQQ 
contextQQ 
.QQ 
SaveChangesAsyncQQ *
(QQ* +
)QQ+ ,
;QQ, -
}RR 	
}SS 
}TT ê
ZC:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Repositories\IRepository.cs
	namespace		 	

DataAccess		
 
.		 
Repositories		 !
{

 
public 

	interface 
IRepository  
<  !
T! "
>" #
where$ )
T* +
:, -
class. 3
,3 4

BaseEntity5 ?
{ 
Task 
< 
IReadOnlyList 
< 
T 
> 
> 
GetAllAsync *
(* +
int 
? 

pageNumber 
= 
$num 
,  
int 
pageSize 
= 
$num 
, 

Expression 
< 
Func 
< 
T 
, 
bool #
># $
>$ %
?% &
	filtering' 0
=1 2
null3 7
,7 8
params 
string 
[ 
] 
? 
includes %
) 
; 
Task 
< 
T 
? 
> 
GetByIdAsync 
( 
Guid "
id# %
)% &
;& '
Task 
AddAsync 
( 
T 
entity 
) 
;  
Task 
UpdateAsync 
( 
T 
entity !
)! "
;" #
Task 
DeleteAsync 
( 
Guid 
id  
)  !
;! "
Task 
DeleteAsync 
( 
T 
entity !
)! "
;" #
Task 

ClearAsync 
( 
) 
; 
} 
} Ç'
lC:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Migrations\20251013172412_AddRefreshTokens.cs
	namespace 	

DataAccess
 
. 

Migrations 
{ 
public 

partial 
class 
AddRefreshTokens )
:* +
	Migration, 5
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str %
,% &
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
Token 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 F
,F G
nullableH P
:P Q
falseR W
)W X
,X Y
Expires 
= 
table #
.# $
Column$ *
<* +
DateTime+ 3
>3 4
(4 5
type5 9
:9 :
$str; F
,F G
nullableH P
:P Q
falseR W
)W X
,X Y
Created 
= 
table #
.# $
Column$ *
<* +
DateTime+ 3
>3 4
(4 5
type5 9
:9 :
$str; F
,F G
nullableH P
:P Q
falseR W
)W X
,X Y
CreatedByIp 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= L
,L M
nullableN V
:V W
falseX ]
)] ^
,^ _
Revoked 
= 
table #
.# $
Column$ *
<* +
DateTime+ 3
>3 4
(4 5
type5 9
:9 :
$str; F
,F G
nullableH P
:P Q
trueR V
)V W
,W X
RevokedByIp 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= L
,L M
nullableN V
:V W
trueX \
)\ ]
,] ^
UserId 
= 
table "
." #
Column# )
<) *
string* 0
>0 1
(1 2
type2 6
:6 7
$str8 G
,G H
nullableI Q
:Q R
falseS X
)X Y
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 7
,7 8
x9 :
=>; =
x> ?
.? @
Id@ B
)B C
;C D
table 
. 

ForeignKey $
($ %
name 
: 
$str C
,C D
column   
:   
x    !
=>  " $
x  % &
.  & '
UserId  ' -
,  - .
principalTable!! &
:!!& '
$str!!( 5
,!!5 6
principalColumn"" '
:""' (
$str"") -
,""- .
onDelete##  
:##  !
ReferentialAction##" 3
.##3 4
Cascade##4 ;
)##; <
;##< =
}$$ 
)$$ 
;$$ 
migrationBuilder&& 
.&& 
CreateIndex&& (
(&&( )
name'' 
:'' 
$str'' /
,''/ 0
table(( 
:(( 
$str(( &
,((& '
column)) 
:)) 
$str))  
)))  !
;))! "
}** 	
	protected-- 
override-- 
void-- 
Down--  $
(--$ %
MigrationBuilder--% 5
migrationBuilder--6 F
)--F G
{.. 	
migrationBuilder// 
.// 
	DropTable// &
(//& '
name00 
:00 
$str00 %
)00% &
;00& '
}11 	
}22 
}33 ’
iC:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Migrations\20251012125732_InitialCreate.cs
	namespace 	

DataAccess
 
. 

Migrations 
{ 
public 

partial 
class 
InitialCreate &
:' (
	Migration) 2
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
	AddColumn &
<& '
int' *
>* +
(+ ,
name 
: 
$str $
,$ %
table 
: 
$str "
," #
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$num 
)  
;  !
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str $
,$ %
table 
: 
$str "
)" #
;# $
} 	
} 
} ÷|
jC:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Migrations\20251008160946_AddReservation.cs
	namespace 	

DataAccess
 
. 

Migrations 
{ 
public 

partial 
class 
AddReservation '
:( )
	Migration* 3
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
	DropTable &
(& '
name 
: 
$str (
)( )
;) *
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str #
,# $
table 
: 
$str "
," #
type 
: 
$str %
,% &
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType 
: 
$str (
)( )
;) *
migrationBuilder 
. 
	AddColumn &
<& '
bool' +
>+ ,
(, -
name 
: 
$str  
,  !
table 
: 
$str "
," #
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
false #
)# $
;$ %
migrationBuilder 
. 
	AddColumn &
<& '
decimal' .
>. /
(/ 0
name   
:   
$str   #
,  # $
table!! 
:!! 
$str!! "
,!!" #
type"" 
:"" 
$str"" %
,""% &
nullable## 
:## 
false## 
,##  
defaultValue$$ 
:$$ 
$num$$  
)$$  !
;$$! "
migrationBuilder&& 
.&& 
	AddColumn&& &
<&&& '
decimal&&' .
>&&. /
(&&/ 0
name'' 
:'' 
$str'' 
,''  
table(( 
:(( 
$str(( $
,(($ %
type)) 
:)) 
$str)) %
,))% &
nullable** 
:** 
false** 
,**  
defaultValue++ 
:++ 
$num++  
)++  !
;++! "
migrationBuilder-- 
.-- 
	AddColumn-- &
<--& '
string--' -
>--- .
(--. /
name.. 
:.. 
$str..  
,..  !
table// 
:// 
$str// $
,//$ %
type00 
:00 
$str00 %
,00% &
nullable11 
:11 
true11 
)11 
;11  
migrationBuilder33 
.33 
	AddColumn33 &
<33& '
string33' -
>33- .
(33. /
name44 
:44 
$str44 
,44 
table55 
:55 
$str55 $
,55$ %
type66 
:66 
$str66 %
,66% &
nullable77 
:77 
false77 
,77  
defaultValue88 
:88 
$str88  
)88  !
;88! "
migrationBuilder:: 
.:: 
CreateTable:: (
(::( )
name;; 
:;; 
$str;; $
,;;$ %
columns<< 
:<< 
table<< 
=><< !
new<<" %
{== 
Id>> 
=>> 
table>> 
.>> 
Column>> %
<>>% &
int>>& )
>>>) *
(>>* +
type>>+ /
:>>/ 0
$str>>1 6
,>>6 7
nullable>>8 @
:>>@ A
false>>B G
)>>G H
.?? 

Annotation?? #
(??# $
$str??$ 8
,??8 9
$str??: @
)??@ A
,??A B
UserId@@ 
=@@ 
table@@ "
.@@" #
Column@@# )
<@@) *
int@@* -
>@@- .
(@@. /
type@@/ 3
:@@3 4
$str@@5 :
,@@: ;
nullable@@< D
:@@D E
false@@F K
)@@K L
,@@L M
UserId1AA 
=AA 
tableAA #
.AA# $
ColumnAA$ *
<AA* +
stringAA+ 1
>AA1 2
(AA2 3
typeAA3 7
:AA7 8
$strAA9 H
,AAH I
nullableAAJ R
:AAR S
trueAAT X
)AAX Y
,AAY Z

ResourceIdBB 
=BB  
tableBB! &
.BB& '
ColumnBB' -
<BB- .
intBB. 1
>BB1 2
(BB2 3
typeBB3 7
:BB7 8
$strBB9 >
,BB> ?
nullableBB@ H
:BBH I
falseBBJ O
)BBO P
,BBP Q
ResourceId1CC 
=CC  !
tableCC" '
.CC' (
ColumnCC( .
<CC. /
GuidCC/ 3
>CC3 4
(CC4 5
typeCC5 9
:CC9 :
$strCC; M
,CCM N
nullableCCO W
:CCW X
trueCCY ]
)CC] ^
,CC^ _
	StartTimeDD 
=DD 
tableDD  %
.DD% &
ColumnDD& ,
<DD, -
DateTimeDD- 5
>DD5 6
(DD6 7
typeDD7 ;
:DD; <
$strDD= H
,DDH I
nullableDDJ R
:DDR S
falseDDT Y
)DDY Z
,DDZ [
EndTimeEE 
=EE 
tableEE #
.EE# $
ColumnEE$ *
<EE* +
DateTimeEE+ 3
>EE3 4
(EE4 5
typeEE5 9
:EE9 :
$strEE; F
,EEF G
nullableEEH P
:EEP Q
falseEER W
)EEW X
,EEX Y
StatusFF 
=FF 
tableFF "
.FF" #
ColumnFF# )
<FF) *
intFF* -
>FF- .
(FF. /
typeFF/ 3
:FF3 4
$strFF5 :
,FF: ;
nullableFF< D
:FFD E
falseFFF K
)FFK L
,FFL M

TotalPriceGG 
=GG  
tableGG! &
.GG& '
ColumnGG' -
<GG- .
decimalGG. 5
>GG5 6
(GG6 7
typeGG7 ;
:GG; <
$strGG= L
,GGL M
nullableGGN V
:GGV W
falseGGX ]
)GG] ^
,GG^ _
NotesHH 
=HH 
tableHH !
.HH! "
ColumnHH" (
<HH( )
stringHH) /
>HH/ 0
(HH0 1
typeHH1 5
:HH5 6
$strHH7 F
,HHF G
nullableHHH P
:HHP Q
trueHHR V
)HHV W
}II 
,II 
constraintsJJ 
:JJ 
tableJJ "
=>JJ# %
{KK 
tableLL 
.LL 

PrimaryKeyLL $
(LL$ %
$strLL% 6
,LL6 7
xLL8 9
=>LL: <
xLL= >
.LL> ?
IdLL? A
)LLA B
;LLB C
tableMM 
.MM 

ForeignKeyMM $
(MM$ %
nameNN 
:NN 
$strNN C
,NNC D
columnOO 
:OO 
xOO  !
=>OO" $
xOO% &
.OO& '
UserId1OO' .
,OO. /
principalTablePP &
:PP& '
$strPP( 5
,PP5 6
principalColumnQQ '
:QQ' (
$strQQ) -
)QQ- .
;QQ. /
tableRR 
.RR 

ForeignKeyRR $
(RR$ %
nameSS 
:SS 
$strSS E
,SSE F
columnTT 
:TT 
xTT  !
=>TT" $
xTT% &
.TT& '
ResourceId1TT' 2
,TT2 3
principalTableUU &
:UU& '
$strUU( 3
,UU3 4
principalColumnVV '
:VV' (
$strVV) -
)VV- .
;VV. /
}WW 
)WW 
;WW 
migrationBuilderYY 
.YY 
CreateIndexYY (
(YY( )
nameZZ 
:ZZ 
$strZZ /
,ZZ/ 0
table[[ 
:[[ 
$str[[ "
,[[" #
column\\ 
:\\ 
$str\\ $
)\\$ %
;\\% &
migrationBuilder^^ 
.^^ 
CreateIndex^^ (
(^^( )
name__ 
:__ 
$str__ 3
,__3 4
table`` 
:`` 
$str`` %
,``% &
columnaa 
:aa 
$straa %
)aa% &
;aa& '
migrationBuildercc 
.cc 
CreateIndexcc (
(cc( )
namedd 
:dd 
$strdd /
,dd/ 0
tableee 
:ee 
$stree %
,ee% &
columnff 
:ff 
$strff !
)ff! "
;ff" #
migrationBuilderhh 
.hh 
AddForeignKeyhh *
(hh* +
nameii 
:ii 
$strii :
,ii: ;
tablejj 
:jj 
$strjj "
,jj" #
columnkk 
:kk 
$strkk $
,kk$ %
principalTablell 
:ll 
$strll  ,
,ll, -
principalColumnmm 
:mm  
$strmm! %
,mm% &
onDeletenn 
:nn 
ReferentialActionnn +
.nn+ ,
Cascadenn, 3
)nn3 4
;nn4 5
}oo 	
	protectedrr 
overriderr 
voidrr 
Downrr  $
(rr$ %
MigrationBuilderrr% 5
migrationBuilderrr6 F
)rrF G
{ss 	
migrationBuildertt 
.tt 
DropForeignKeytt +
(tt+ ,
nameuu 
:uu 
$struu :
,uu: ;
tablevv 
:vv 
$strvv "
)vv" #
;vv# $
migrationBuilderxx 
.xx 
	DropTablexx &
(xx& '
nameyy 
:yy 
$stryy $
)yy$ %
;yy% &
migrationBuilder{{ 
.{{ 
	DropIndex{{ &
({{& '
name|| 
:|| 
$str|| /
,||/ 0
table}} 
:}} 
$str}} "
)}}" #
;}}# $
migrationBuilder 
. 

DropColumn '
(' (
name
ÄÄ 
:
ÄÄ 
$str
ÄÄ  
,
ÄÄ  !
table
ÅÅ 
:
ÅÅ 
$str
ÅÅ "
)
ÅÅ" #
;
ÅÅ# $
migrationBuilder
ÉÉ 
.
ÉÉ 

DropColumn
ÉÉ '
(
ÉÉ' (
name
ÑÑ 
:
ÑÑ 
$str
ÑÑ #
,
ÑÑ# $
table
ÖÖ 
:
ÖÖ 
$str
ÖÖ "
)
ÖÖ" #
;
ÖÖ# $
migrationBuilder
áá 
.
áá 

DropColumn
áá '
(
áá' (
name
àà 
:
àà 
$str
àà 
,
àà  
table
ââ 
:
ââ 
$str
ââ $
)
ââ$ %
;
ââ% &
migrationBuilder
ãã 
.
ãã 

DropColumn
ãã '
(
ãã' (
name
åå 
:
åå 
$str
åå  
,
åå  !
table
çç 
:
çç 
$str
çç $
)
çç$ %
;
çç% &
migrationBuilder
èè 
.
èè 

DropColumn
èè '
(
èè' (
name
êê 
:
êê 
$str
êê 
,
êê 
table
ëë 
:
ëë 
$str
ëë $
)
ëë$ %
;
ëë% &
migrationBuilder
ìì 
.
ìì 
AlterColumn
ìì (
<
ìì( )
string
ìì) /
>
ìì/ 0
(
ìì0 1
name
îî 
:
îî 
$str
îî #
,
îî# $
table
ïï 
:
ïï 
$str
ïï "
,
ïï" #
type
ññ 
:
ññ 
$str
ññ %
,
ññ% &
nullable
óó 
:
óó 
false
óó 
,
óó  
defaultValue
òò 
:
òò 
$str
òò  
,
òò  !

oldClrType
ôô 
:
ôô 
typeof
ôô "
(
ôô" #
string
ôô# )
)
ôô) *
,
ôô* +
oldType
öö 
:
öö 
$str
öö (
,
öö( )
oldNullable
õõ 
:
õõ 
true
õõ !
)
õõ! "
;
õõ" #
migrationBuilder
ùù 
.
ùù 
CreateTable
ùù (
(
ùù( )
name
ûû 
:
ûû 
$str
ûû (
,
ûû( )
columns
üü 
:
üü 
table
üü 
=>
üü !
new
üü" %
{
†† 

CategoryId
°° 
=
°°  
table
°°! &
.
°°& '
Column
°°' -
<
°°- .
Guid
°°. 2
>
°°2 3
(
°°3 4
type
°°4 8
:
°°8 9
$str
°°: L
,
°°L M
nullable
°°N V
:
°°V W
false
°°X ]
)
°°] ^
,
°°^ _
ResourcesId
¢¢ 
=
¢¢  !
table
¢¢" '
.
¢¢' (
Column
¢¢( .
<
¢¢. /
Guid
¢¢/ 3
>
¢¢3 4
(
¢¢4 5
type
¢¢5 9
:
¢¢9 :
$str
¢¢; M
,
¢¢M N
nullable
¢¢O W
:
¢¢W X
false
¢¢Y ^
)
¢¢^ _
}
££ 
,
££ 
constraints
§§ 
:
§§ 
table
§§ "
=>
§§# %
{
•• 
table
¶¶ 
.
¶¶ 

PrimaryKey
¶¶ $
(
¶¶$ %
$str
¶¶% :
,
¶¶: ;
x
¶¶< =
=>
¶¶> @
new
¶¶A D
{
¶¶E F
x
¶¶G H
.
¶¶H I

CategoryId
¶¶I S
,
¶¶S T
x
¶¶U V
.
¶¶V W
ResourcesId
¶¶W b
}
¶¶c d
)
¶¶d e
;
¶¶e f
table
ßß 
.
ßß 

ForeignKey
ßß $
(
ßß$ %
name
®® 
:
®® 
$str
®® I
,
®®I J
column
©© 
:
©© 
x
©©  !
=>
©©" $
x
©©% &
.
©©& '

CategoryId
©©' 1
,
©©1 2
principalTable
™™ &
:
™™& '
$str
™™( 4
,
™™4 5
principalColumn
´´ '
:
´´' (
$str
´´) -
,
´´- .
onDelete
¨¨  
:
¨¨  !
ReferentialAction
¨¨" 3
.
¨¨3 4
Cascade
¨¨4 ;
)
¨¨; <
;
¨¨< =
table
≠≠ 
.
≠≠ 

ForeignKey
≠≠ $
(
≠≠$ %
name
ÆÆ 
:
ÆÆ 
$str
ÆÆ I
,
ÆÆI J
column
ØØ 
:
ØØ 
x
ØØ  !
=>
ØØ" $
x
ØØ% &
.
ØØ& '
ResourcesId
ØØ' 2
,
ØØ2 3
principalTable
∞∞ &
:
∞∞& '
$str
∞∞( 3
,
∞∞3 4
principalColumn
±± '
:
±±' (
$str
±±) -
,
±±- .
onDelete
≤≤  
:
≤≤  !
ReferentialAction
≤≤" 3
.
≤≤3 4
Cascade
≤≤4 ;
)
≤≤; <
;
≤≤< =
}
≥≥ 
)
≥≥ 
;
≥≥ 
migrationBuilder
µµ 
.
µµ 
CreateIndex
µµ (
(
µµ( )
name
∂∂ 
:
∂∂ 
$str
∂∂ 7
,
∂∂7 8
table
∑∑ 
:
∑∑ 
$str
∑∑ )
,
∑∑) *
column
∏∏ 
:
∏∏ 
$str
∏∏ %
)
∏∏% &
;
∏∏& '
}
ππ 	
}
∫∫ 
}ªª ›
mC:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Migrations\20251001162432_AddCategoriesSlug.cs
	namespace 	

DataAccess
 
. 

Migrations 
{ 
public 

partial 
class 
AddCategoriesSlug *
:+ ,
	Migration- 6
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
	AddColumn &
<& '
int' *
>* +
(+ ,
name 
: 
$str 
, 
table 
: 
$str #
,# $
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$num 
)  
;  !
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str 
, 
table 
: 
$str #
)# $
;$ %
} 	
} 
} ¿Ñ
]C:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Migrations\20250925162753_q.cs
	namespace 	

DataAccess
 
. 

Migrations 
{ 
public 

partial 
class 
q 
: 
	Migration &
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
type. 2
:2 3
$str4 C
,C D
nullableE M
:M N
falseO T
)T U
,U V
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
	maxLengthG P
:P Q
$numR U
,U V
nullableW _
:_ `
truea e
)e f
,f g
NormalizedName "
=# $
table% *
.* +
Column+ 1
<1 2
string2 8
>8 9
(9 :
type: >
:> ?
$str@ O
,O P
	maxLengthQ Z
:Z [
$num\ _
,_ `
nullablea i
:i j
truek o
)o p
,p q
ConcurrencyStamp $
=% &
table' ,
., -
Column- 3
<3 4
string4 :
>: ;
(; <
type< @
:@ A
$strB Q
,Q R
nullableS [
:[ \
true] a
)a b
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 5
,5 6
x7 8
=>9 ;
x< =
.= >
Id> @
)@ A
;A B
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
type. 2
:2 3
$str4 C
,C D
nullableE M
:M N
falseO T
)T U
,U V
	Birthdate   
=   
table    %
.  % &
Column  & ,
<  , -
DateTime  - 5
>  5 6
(  6 7
type  7 ;
:  ; <
$str  = H
,  H I
nullable  J R
:  R S
true  T X
)  X Y
,  Y Z
UserName!! 
=!! 
table!! $
.!!$ %
Column!!% +
<!!+ ,
string!!, 2
>!!2 3
(!!3 4
type!!4 8
:!!8 9
$str!!: I
,!!I J
	maxLength!!K T
:!!T U
$num!!V Y
,!!Y Z
nullable!![ c
:!!c d
true!!e i
)!!i j
,!!j k
NormalizedUserName"" &
=""' (
table"") .
."". /
Column""/ 5
<""5 6
string""6 <
>""< =
(""= >
type""> B
:""B C
$str""D S
,""S T
	maxLength""U ^
:""^ _
$num""` c
,""c d
nullable""e m
:""m n
true""o s
)""s t
,""t u
Email## 
=## 
table## !
.##! "
Column##" (
<##( )
string##) /
>##/ 0
(##0 1
type##1 5
:##5 6
$str##7 F
,##F G
	maxLength##H Q
:##Q R
$num##S V
,##V W
nullable##X `
:##` a
true##b f
)##f g
,##g h
NormalizedEmail$$ #
=$$$ %
table$$& +
.$$+ ,
Column$$, 2
<$$2 3
string$$3 9
>$$9 :
($$: ;
type$$; ?
:$$? @
$str$$A P
,$$P Q
	maxLength$$R [
:$$[ \
$num$$] `
,$$` a
nullable$$b j
:$$j k
true$$l p
)$$p q
,$$q r
EmailConfirmed%% "
=%%# $
table%%% *
.%%* +
Column%%+ 1
<%%1 2
bool%%2 6
>%%6 7
(%%7 8
type%%8 <
:%%< =
$str%%> C
,%%C D
nullable%%E M
:%%M N
false%%O T
)%%T U
,%%U V
PasswordHash&&  
=&&! "
table&&# (
.&&( )
Column&&) /
<&&/ 0
string&&0 6
>&&6 7
(&&7 8
type&&8 <
:&&< =
$str&&> M
,&&M N
nullable&&O W
:&&W X
true&&Y ]
)&&] ^
,&&^ _
SecurityStamp'' !
=''" #
table''$ )
.'') *
Column''* 0
<''0 1
string''1 7
>''7 8
(''8 9
type''9 =
:''= >
$str''? N
,''N O
nullable''P X
:''X Y
true''Z ^
)''^ _
,''_ `
ConcurrencyStamp(( $
=((% &
table((' ,
.((, -
Column((- 3
<((3 4
string((4 :
>((: ;
(((; <
type((< @
:((@ A
$str((B Q
,((Q R
nullable((S [
:(([ \
true((] a
)((a b
,((b c
PhoneNumber)) 
=))  !
table))" '
.))' (
Column))( .
<)). /
string))/ 5
>))5 6
())6 7
type))7 ;
:)); <
$str))= L
,))L M
nullable))N V
:))V W
true))X \
)))\ ]
,))] ^ 
PhoneNumberConfirmed** (
=**) *
table**+ 0
.**0 1
Column**1 7
<**7 8
bool**8 <
>**< =
(**= >
type**> B
:**B C
$str**D I
,**I J
nullable**K S
:**S T
false**U Z
)**Z [
,**[ \
TwoFactorEnabled++ $
=++% &
table++' ,
.++, -
Column++- 3
<++3 4
bool++4 8
>++8 9
(++9 :
type++: >
:++> ?
$str++@ E
,++E F
nullable++G O
:++O P
false++Q V
)++V W
,++W X

LockoutEnd,, 
=,,  
table,,! &
.,,& '
Column,,' -
<,,- .
DateTimeOffset,,. <
>,,< =
(,,= >
type,,> B
:,,B C
$str,,D T
,,,T U
nullable,,V ^
:,,^ _
true,,` d
),,d e
,,,e f
LockoutEnabled-- "
=--# $
table--% *
.--* +
Column--+ 1
<--1 2
bool--2 6
>--6 7
(--7 8
type--8 <
:--< =
$str--> C
,--C D
nullable--E M
:--M N
false--O T
)--T U
,--U V
AccessFailedCount.. %
=..& '
table..( -
...- .
Column... 4
<..4 5
int..5 8
>..8 9
(..9 :
type..: >
:..> ?
$str..@ E
,..E F
nullable..G O
:..O P
false..Q V
)..V W
}// 
,// 
constraints00 
:00 
table00 "
=>00# %
{11 
table22 
.22 

PrimaryKey22 $
(22$ %
$str22% 5
,225 6
x227 8
=>229 ;
x22< =
.22= >
Id22> @
)22@ A
;22A B
}33 
)33 
;33 
migrationBuilder55 
.55 
CreateTable55 (
(55( )
name66 
:66 
$str66 "
,66" #
columns77 
:77 
table77 
=>77 !
new77" %
{88 
Id99 
=99 
table99 
.99 
Column99 %
<99% &
Guid99& *
>99* +
(99+ ,
type99, 0
:990 1
$str992 D
,99D E
nullable99F N
:99N O
false99P U
)99U V
,99V W
Name:: 
=:: 
table::  
.::  !
Column::! '
<::' (
string::( .
>::. /
(::/ 0
type::0 4
:::4 5
$str::6 E
,::E F
nullable::G O
:::O P
false::Q V
)::V W
};; 
,;; 
constraints<< 
:<< 
table<< "
=><<# %
{== 
table>> 
.>> 

PrimaryKey>> $
(>>$ %
$str>>% 4
,>>4 5
x>>6 7
=>>>8 :
x>>; <
.>>< =
Id>>= ?
)>>? @
;>>@ A
}?? 
)?? 
;?? 
migrationBuilderAA 
.AA 
CreateTableAA (
(AA( )
nameBB 
:BB 
$strBB !
,BB! "
columnsCC 
:CC 
tableCC 
=>CC !
newCC" %
{DD 
IdEE 
=EE 
tableEE 
.EE 
ColumnEE %
<EE% &
GuidEE& *
>EE* +
(EE+ ,
typeEE, 0
:EE0 1
$strEE2 D
,EED E
nullableEEF N
:EEN O
falseEEP U
)EEU V
,EEV W
NameFF 
=FF 
tableFF  
.FF  !
ColumnFF! '
<FF' (
stringFF( .
>FF. /
(FF/ 0
typeFF0 4
:FF4 5
$strFF6 E
,FFE F
nullableFFG O
:FFO P
falseFFQ V
)FFV W
,FFW X
DescriptionGG 
=GG  !
tableGG" '
.GG' (
ColumnGG( .
<GG. /
stringGG/ 5
>GG5 6
(GG6 7
typeGG7 ;
:GG; <
$strGG= L
,GGL M
nullableGGN V
:GGV W
falseGGX ]
)GG] ^
,GG^ _
PricePerHourHH  
=HH! "
tableHH# (
.HH( )
ColumnHH) /
<HH/ 0
decimalHH0 7
>HH7 8
(HH8 9
typeHH9 =
:HH= >
$strHH? N
,HHN O
nullableHHP X
:HHX Y
falseHHZ _
)HH_ `
,HH` a
ImageUrlII 
=II 
tableII $
.II$ %
ColumnII% +
<II+ ,
stringII, 2
>II2 3
(II3 4
typeII4 8
:II8 9
$strII: I
,III J
nullableIIK S
:IIS T
falseIIU Z
)IIZ [
,II[ \

CategoryIdJJ 
=JJ  
tableJJ! &
.JJ& '
ColumnJJ' -
<JJ- .
GuidJJ. 2
>JJ2 3
(JJ3 4
typeJJ4 8
:JJ8 9
$strJJ: L
,JJL M
nullableJJN V
:JJV W
falseJJX ]
)JJ] ^
}KK 
,KK 
constraintsLL 
:LL 
tableLL "
=>LL# %
{MM 
tableNN 
.NN 

PrimaryKeyNN $
(NN$ %
$strNN% 3
,NN3 4
xNN5 6
=>NN7 9
xNN: ;
.NN; <
IdNN< >
)NN> ?
;NN? @
}OO 
)OO 
;OO 
migrationBuilderQQ 
.QQ 
CreateTableQQ (
(QQ( )
nameRR 
:RR 
$strRR (
,RR( )
columnsSS 
:SS 
tableSS 
=>SS !
newSS" %
{TT 
IdUU 
=UU 
tableUU 
.UU 
ColumnUU %
<UU% &
intUU& )
>UU) *
(UU* +
typeUU+ /
:UU/ 0
$strUU1 6
,UU6 7
nullableUU8 @
:UU@ A
falseUUB G
)UUG H
.VV 

AnnotationVV #
(VV# $
$strVV$ 8
,VV8 9
$strVV: @
)VV@ A
,VVA B
RoleIdWW 
=WW 
tableWW "
.WW" #
ColumnWW# )
<WW) *
stringWW* 0
>WW0 1
(WW1 2
typeWW2 6
:WW6 7
$strWW8 G
,WWG H
nullableWWI Q
:WWQ R
falseWWS X
)WWX Y
,WWY Z
	ClaimTypeXX 
=XX 
tableXX  %
.XX% &
ColumnXX& ,
<XX, -
stringXX- 3
>XX3 4
(XX4 5
typeXX5 9
:XX9 :
$strXX; J
,XXJ K
nullableXXL T
:XXT U
trueXXV Z
)XXZ [
,XX[ \

ClaimValueYY 
=YY  
tableYY! &
.YY& '
ColumnYY' -
<YY- .
stringYY. 4
>YY4 5
(YY5 6
typeYY6 :
:YY: ;
$strYY< K
,YYK L
nullableYYM U
:YYU V
trueYYW [
)YY[ \
}ZZ 
,ZZ 
constraints[[ 
:[[ 
table[[ "
=>[[# %
{\\ 
table]] 
.]] 

PrimaryKey]] $
(]]$ %
$str]]% :
,]]: ;
x]]< =
=>]]> @
x]]A B
.]]B C
Id]]C E
)]]E F
;]]F G
table^^ 
.^^ 

ForeignKey^^ $
(^^$ %
name__ 
:__ 
$str__ F
,__F G
column`` 
:`` 
x``  !
=>``" $
x``% &
.``& '
RoleId``' -
,``- .
principalTableaa &
:aa& '
$straa( 5
,aa5 6
principalColumnbb '
:bb' (
$strbb) -
,bb- .
onDeletecc  
:cc  !
ReferentialActioncc" 3
.cc3 4
Cascadecc4 ;
)cc; <
;cc< =
}dd 
)dd 
;dd 
migrationBuilderff 
.ff 
CreateTableff (
(ff( )
namegg 
:gg 
$strgg (
,gg( )
columnshh 
:hh 
tablehh 
=>hh !
newhh" %
{ii 
Idjj 
=jj 
tablejj 
.jj 
Columnjj %
<jj% &
intjj& )
>jj) *
(jj* +
typejj+ /
:jj/ 0
$strjj1 6
,jj6 7
nullablejj8 @
:jj@ A
falsejjB G
)jjG H
.kk 

Annotationkk #
(kk# $
$strkk$ 8
,kk8 9
$strkk: @
)kk@ A
,kkA B
UserIdll 
=ll 
tablell "
.ll" #
Columnll# )
<ll) *
stringll* 0
>ll0 1
(ll1 2
typell2 6
:ll6 7
$strll8 G
,llG H
nullablellI Q
:llQ R
falsellS X
)llX Y
,llY Z
	ClaimTypemm 
=mm 
tablemm  %
.mm% &
Columnmm& ,
<mm, -
stringmm- 3
>mm3 4
(mm4 5
typemm5 9
:mm9 :
$strmm; J
,mmJ K
nullablemmL T
:mmT U
truemmV Z
)mmZ [
,mm[ \

ClaimValuenn 
=nn  
tablenn! &
.nn& '
Columnnn' -
<nn- .
stringnn. 4
>nn4 5
(nn5 6
typenn6 :
:nn: ;
$strnn< K
,nnK L
nullablennM U
:nnU V
truennW [
)nn[ \
}oo 
,oo 
constraintspp 
:pp 
tablepp "
=>pp# %
{qq 
tablerr 
.rr 

PrimaryKeyrr $
(rr$ %
$strrr% :
,rr: ;
xrr< =
=>rr> @
xrrA B
.rrB C
IdrrC E
)rrE F
;rrF G
tabless 
.ss 

ForeignKeyss $
(ss$ %
namett 
:tt 
$strtt F
,ttF G
columnuu 
:uu 
xuu  !
=>uu" $
xuu% &
.uu& '
UserIduu' -
,uu- .
principalTablevv &
:vv& '
$strvv( 5
,vv5 6
principalColumnww '
:ww' (
$strww) -
,ww- .
onDeletexx  
:xx  !
ReferentialActionxx" 3
.xx3 4
Cascadexx4 ;
)xx; <
;xx< =
}yy 
)yy 
;yy 
migrationBuilder{{ 
.{{ 
CreateTable{{ (
({{( )
name|| 
:|| 
$str|| (
,||( )
columns}} 
:}} 
table}} 
=>}} !
new}}" %
{~~ 
LoginProvider !
=" #
table$ )
.) *
Column* 0
<0 1
string1 7
>7 8
(8 9
type9 =
:= >
$str? N
,N O
nullableP X
:X Y
falseZ _
)_ `
,` a
ProviderKey
ÄÄ 
=
ÄÄ  !
table
ÄÄ" '
.
ÄÄ' (
Column
ÄÄ( .
<
ÄÄ. /
string
ÄÄ/ 5
>
ÄÄ5 6
(
ÄÄ6 7
type
ÄÄ7 ;
:
ÄÄ; <
$str
ÄÄ= L
,
ÄÄL M
nullable
ÄÄN V
:
ÄÄV W
false
ÄÄX ]
)
ÄÄ] ^
,
ÄÄ^ _!
ProviderDisplayName
ÅÅ '
=
ÅÅ( )
table
ÅÅ* /
.
ÅÅ/ 0
Column
ÅÅ0 6
<
ÅÅ6 7
string
ÅÅ7 =
>
ÅÅ= >
(
ÅÅ> ?
type
ÅÅ? C
:
ÅÅC D
$str
ÅÅE T
,
ÅÅT U
nullable
ÅÅV ^
:
ÅÅ^ _
true
ÅÅ` d
)
ÅÅd e
,
ÅÅe f
UserId
ÇÇ 
=
ÇÇ 
table
ÇÇ "
.
ÇÇ" #
Column
ÇÇ# )
<
ÇÇ) *
string
ÇÇ* 0
>
ÇÇ0 1
(
ÇÇ1 2
type
ÇÇ2 6
:
ÇÇ6 7
$str
ÇÇ8 G
,
ÇÇG H
nullable
ÇÇI Q
:
ÇÇQ R
false
ÇÇS X
)
ÇÇX Y
}
ÉÉ 
,
ÉÉ 
constraints
ÑÑ 
:
ÑÑ 
table
ÑÑ "
=>
ÑÑ# %
{
ÖÖ 
table
ÜÜ 
.
ÜÜ 

PrimaryKey
ÜÜ $
(
ÜÜ$ %
$str
ÜÜ% :
,
ÜÜ: ;
x
ÜÜ< =
=>
ÜÜ> @
new
ÜÜA D
{
ÜÜE F
x
ÜÜG H
.
ÜÜH I
LoginProvider
ÜÜI V
,
ÜÜV W
x
ÜÜX Y
.
ÜÜY Z
ProviderKey
ÜÜZ e
}
ÜÜf g
)
ÜÜg h
;
ÜÜh i
table
áá 
.
áá 

ForeignKey
áá $
(
áá$ %
name
àà 
:
àà 
$str
àà F
,
ààF G
column
ââ 
:
ââ 
x
ââ  !
=>
ââ" $
x
ââ% &
.
ââ& '
UserId
ââ' -
,
ââ- .
principalTable
ää &
:
ää& '
$str
ää( 5
,
ää5 6
principalColumn
ãã '
:
ãã' (
$str
ãã) -
,
ãã- .
onDelete
åå  
:
åå  !
ReferentialAction
åå" 3
.
åå3 4
Cascade
åå4 ;
)
åå; <
;
åå< =
}
çç 
)
çç 
;
çç 
migrationBuilder
èè 
.
èè 
CreateTable
èè (
(
èè( )
name
êê 
:
êê 
$str
êê '
,
êê' (
columns
ëë 
:
ëë 
table
ëë 
=>
ëë !
new
ëë" %
{
íí 
UserId
ìì 
=
ìì 
table
ìì "
.
ìì" #
Column
ìì# )
<
ìì) *
string
ìì* 0
>
ìì0 1
(
ìì1 2
type
ìì2 6
:
ìì6 7
$str
ìì8 G
,
ììG H
nullable
ììI Q
:
ììQ R
false
ììS X
)
ììX Y
,
ììY Z
RoleId
îî 
=
îî 
table
îî "
.
îî" #
Column
îî# )
<
îî) *
string
îî* 0
>
îî0 1
(
îî1 2
type
îî2 6
:
îî6 7
$str
îî8 G
,
îîG H
nullable
îîI Q
:
îîQ R
false
îîS X
)
îîX Y
}
ïï 
,
ïï 
constraints
ññ 
:
ññ 
table
ññ "
=>
ññ# %
{
óó 
table
òò 
.
òò 

PrimaryKey
òò $
(
òò$ %
$str
òò% 9
,
òò9 :
x
òò; <
=>
òò= ?
new
òò@ C
{
òòD E
x
òòF G
.
òòG H
UserId
òòH N
,
òòN O
x
òòP Q
.
òòQ R
RoleId
òòR X
}
òòY Z
)
òòZ [
;
òò[ \
table
ôô 
.
ôô 

ForeignKey
ôô $
(
ôô$ %
name
öö 
:
öö 
$str
öö E
,
ööE F
column
õõ 
:
õõ 
x
õõ  !
=>
õõ" $
x
õõ% &
.
õõ& '
RoleId
õõ' -
,
õõ- .
principalTable
úú &
:
úú& '
$str
úú( 5
,
úú5 6
principalColumn
ùù '
:
ùù' (
$str
ùù) -
,
ùù- .
onDelete
ûû  
:
ûû  !
ReferentialAction
ûû" 3
.
ûû3 4
Cascade
ûû4 ;
)
ûû; <
;
ûû< =
table
üü 
.
üü 

ForeignKey
üü $
(
üü$ %
name
†† 
:
†† 
$str
†† E
,
††E F
column
°° 
:
°° 
x
°°  !
=>
°°" $
x
°°% &
.
°°& '
UserId
°°' -
,
°°- .
principalTable
¢¢ &
:
¢¢& '
$str
¢¢( 5
,
¢¢5 6
principalColumn
££ '
:
££' (
$str
££) -
,
££- .
onDelete
§§  
:
§§  !
ReferentialAction
§§" 3
.
§§3 4
Cascade
§§4 ;
)
§§; <
;
§§< =
}
•• 
)
•• 
;
•• 
migrationBuilder
ßß 
.
ßß 
CreateTable
ßß (
(
ßß( )
name
®® 
:
®® 
$str
®® (
,
®®( )
columns
©© 
:
©© 
table
©© 
=>
©© !
new
©©" %
{
™™ 
UserId
´´ 
=
´´ 
table
´´ "
.
´´" #
Column
´´# )
<
´´) *
string
´´* 0
>
´´0 1
(
´´1 2
type
´´2 6
:
´´6 7
$str
´´8 G
,
´´G H
nullable
´´I Q
:
´´Q R
false
´´S X
)
´´X Y
,
´´Y Z
LoginProvider
¨¨ !
=
¨¨" #
table
¨¨$ )
.
¨¨) *
Column
¨¨* 0
<
¨¨0 1
string
¨¨1 7
>
¨¨7 8
(
¨¨8 9
type
¨¨9 =
:
¨¨= >
$str
¨¨? N
,
¨¨N O
nullable
¨¨P X
:
¨¨X Y
false
¨¨Z _
)
¨¨_ `
,
¨¨` a
Name
≠≠ 
=
≠≠ 
table
≠≠  
.
≠≠  !
Column
≠≠! '
<
≠≠' (
string
≠≠( .
>
≠≠. /
(
≠≠/ 0
type
≠≠0 4
:
≠≠4 5
$str
≠≠6 E
,
≠≠E F
nullable
≠≠G O
:
≠≠O P
false
≠≠Q V
)
≠≠V W
,
≠≠W X
Value
ÆÆ 
=
ÆÆ 
table
ÆÆ !
.
ÆÆ! "
Column
ÆÆ" (
<
ÆÆ( )
string
ÆÆ) /
>
ÆÆ/ 0
(
ÆÆ0 1
type
ÆÆ1 5
:
ÆÆ5 6
$str
ÆÆ7 F
,
ÆÆF G
nullable
ÆÆH P
:
ÆÆP Q
true
ÆÆR V
)
ÆÆV W
}
ØØ 
,
ØØ 
constraints
∞∞ 
:
∞∞ 
table
∞∞ "
=>
∞∞# %
{
±± 
table
≤≤ 
.
≤≤ 

PrimaryKey
≤≤ $
(
≤≤$ %
$str
≤≤% :
,
≤≤: ;
x
≤≤< =
=>
≤≤> @
new
≤≤A D
{
≤≤E F
x
≤≤G H
.
≤≤H I
UserId
≤≤I O
,
≤≤O P
x
≤≤Q R
.
≤≤R S
LoginProvider
≤≤S `
,
≤≤` a
x
≤≤b c
.
≤≤c d
Name
≤≤d h
}
≤≤i j
)
≤≤j k
;
≤≤k l
table
≥≥ 
.
≥≥ 

ForeignKey
≥≥ $
(
≥≥$ %
name
¥¥ 
:
¥¥ 
$str
¥¥ F
,
¥¥F G
column
µµ 
:
µµ 
x
µµ  !
=>
µµ" $
x
µµ% &
.
µµ& '
UserId
µµ' -
,
µµ- .
principalTable
∂∂ &
:
∂∂& '
$str
∂∂( 5
,
∂∂5 6
principalColumn
∑∑ '
:
∑∑' (
$str
∑∑) -
,
∑∑- .
onDelete
∏∏  
:
∏∏  !
ReferentialAction
∏∏" 3
.
∏∏3 4
Cascade
∏∏4 ;
)
∏∏; <
;
∏∏< =
}
ππ 
)
ππ 
;
ππ 
migrationBuilder
ªª 
.
ªª 
CreateTable
ªª (
(
ªª( )
name
ºº 
:
ºº 
$str
ºº (
,
ºº( )
columns
ΩΩ 
:
ΩΩ 
table
ΩΩ 
=>
ΩΩ !
new
ΩΩ" %
{
ææ 

CategoryId
øø 
=
øø  
table
øø! &
.
øø& '
Column
øø' -
<
øø- .
Guid
øø. 2
>
øø2 3
(
øø3 4
type
øø4 8
:
øø8 9
$str
øø: L
,
øøL M
nullable
øøN V
:
øøV W
false
øøX ]
)
øø] ^
,
øø^ _
ResourcesId
¿¿ 
=
¿¿  !
table
¿¿" '
.
¿¿' (
Column
¿¿( .
<
¿¿. /
Guid
¿¿/ 3
>
¿¿3 4
(
¿¿4 5
type
¿¿5 9
:
¿¿9 :
$str
¿¿; M
,
¿¿M N
nullable
¿¿O W
:
¿¿W X
false
¿¿Y ^
)
¿¿^ _
}
¡¡ 
,
¡¡ 
constraints
¬¬ 
:
¬¬ 
table
¬¬ "
=>
¬¬# %
{
√√ 
table
ƒƒ 
.
ƒƒ 

PrimaryKey
ƒƒ $
(
ƒƒ$ %
$str
ƒƒ% :
,
ƒƒ: ;
x
ƒƒ< =
=>
ƒƒ> @
new
ƒƒA D
{
ƒƒE F
x
ƒƒG H
.
ƒƒH I

CategoryId
ƒƒI S
,
ƒƒS T
x
ƒƒU V
.
ƒƒV W
ResourcesId
ƒƒW b
}
ƒƒc d
)
ƒƒd e
;
ƒƒe f
table
≈≈ 
.
≈≈ 

ForeignKey
≈≈ $
(
≈≈$ %
name
∆∆ 
:
∆∆ 
$str
∆∆ I
,
∆∆I J
column
«« 
:
«« 
x
««  !
=>
««" $
x
««% &
.
««& '

CategoryId
««' 1
,
««1 2
principalTable
»» &
:
»»& '
$str
»»( 4
,
»»4 5
principalColumn
…… '
:
……' (
$str
……) -
,
……- .
onDelete
    
:
    !
ReferentialAction
  " 3
.
  3 4
Cascade
  4 ;
)
  ; <
;
  < =
table
ÀÀ 
.
ÀÀ 

ForeignKey
ÀÀ $
(
ÀÀ$ %
name
ÃÃ 
:
ÃÃ 
$str
ÃÃ I
,
ÃÃI J
column
ÕÕ 
:
ÕÕ 
x
ÕÕ  !
=>
ÕÕ" $
x
ÕÕ% &
.
ÕÕ& '
ResourcesId
ÕÕ' 2
,
ÕÕ2 3
principalTable
ŒŒ &
:
ŒŒ& '
$str
ŒŒ( 3
,
ŒŒ3 4
principalColumn
œœ '
:
œœ' (
$str
œœ) -
,
œœ- .
onDelete
––  
:
––  !
ReferentialAction
––" 3
.
––3 4
Cascade
––4 ;
)
––; <
;
––< =
}
—— 
)
—— 
;
—— 
migrationBuilder
”” 
.
”” 
CreateIndex
”” (
(
””( )
name
‘‘ 
:
‘‘ 
$str
‘‘ 2
,
‘‘2 3
table
’’ 
:
’’ 
$str
’’ )
,
’’) *
column
÷÷ 
:
÷÷ 
$str
÷÷  
)
÷÷  !
;
÷÷! "
migrationBuilder
ÿÿ 
.
ÿÿ 
CreateIndex
ÿÿ (
(
ÿÿ( )
name
ŸŸ 
:
ŸŸ 
$str
ŸŸ %
,
ŸŸ% &
table
⁄⁄ 
:
⁄⁄ 
$str
⁄⁄ $
,
⁄⁄$ %
column
€€ 
:
€€ 
$str
€€ (
,
€€( )
unique
‹‹ 
:
‹‹ 
true
‹‹ 
,
‹‹ 
filter
›› 
:
›› 
$str
›› 6
)
››6 7
;
››7 8
migrationBuilder
ﬂﬂ 
.
ﬂﬂ 
CreateIndex
ﬂﬂ (
(
ﬂﬂ( )
name
‡‡ 
:
‡‡ 
$str
‡‡ 2
,
‡‡2 3
table
·· 
:
·· 
$str
·· )
,
··) *
column
‚‚ 
:
‚‚ 
$str
‚‚  
)
‚‚  !
;
‚‚! "
migrationBuilder
‰‰ 
.
‰‰ 
CreateIndex
‰‰ (
(
‰‰( )
name
ÂÂ 
:
ÂÂ 
$str
ÂÂ 2
,
ÂÂ2 3
table
ÊÊ 
:
ÊÊ 
$str
ÊÊ )
,
ÊÊ) *
column
ÁÁ 
:
ÁÁ 
$str
ÁÁ  
)
ÁÁ  !
;
ÁÁ! "
migrationBuilder
ÈÈ 
.
ÈÈ 
CreateIndex
ÈÈ (
(
ÈÈ( )
name
ÍÍ 
:
ÍÍ 
$str
ÍÍ 1
,
ÍÍ1 2
table
ÎÎ 
:
ÎÎ 
$str
ÎÎ (
,
ÎÎ( )
column
ÏÏ 
:
ÏÏ 
$str
ÏÏ  
)
ÏÏ  !
;
ÏÏ! "
migrationBuilder
ÓÓ 
.
ÓÓ 
CreateIndex
ÓÓ (
(
ÓÓ( )
name
ÔÔ 
:
ÔÔ 
$str
ÔÔ "
,
ÔÔ" #
table
 
:
 
$str
 $
,
$ %
column
ÒÒ 
:
ÒÒ 
$str
ÒÒ )
)
ÒÒ) *
;
ÒÒ* +
migrationBuilder
ÛÛ 
.
ÛÛ 
CreateIndex
ÛÛ (
(
ÛÛ( )
name
ÙÙ 
:
ÙÙ 
$str
ÙÙ %
,
ÙÙ% &
table
ıı 
:
ıı 
$str
ıı $
,
ıı$ %
column
ˆˆ 
:
ˆˆ 
$str
ˆˆ ,
,
ˆˆ, -
unique
˜˜ 
:
˜˜ 
true
˜˜ 
,
˜˜ 
filter
¯¯ 
:
¯¯ 
$str
¯¯ :
)
¯¯: ;
;
¯¯; <
migrationBuilder
˙˙ 
.
˙˙ 
CreateIndex
˙˙ (
(
˙˙( )
name
˚˚ 
:
˚˚ 
$str
˚˚ 7
,
˚˚7 8
table
¸¸ 
:
¸¸ 
$str
¸¸ )
,
¸¸) *
column
˝˝ 
:
˝˝ 
$str
˝˝ %
)
˝˝% &
;
˝˝& '
}
˛˛ 	
	protected
ÅÅ 
override
ÅÅ 
void
ÅÅ 
Down
ÅÅ  $
(
ÅÅ$ %
MigrationBuilder
ÅÅ% 5
migrationBuilder
ÅÅ6 F
)
ÅÅF G
{
ÇÇ 	
migrationBuilder
ÉÉ 
.
ÉÉ 
	DropTable
ÉÉ &
(
ÉÉ& '
name
ÑÑ 
:
ÑÑ 
$str
ÑÑ (
)
ÑÑ( )
;
ÑÑ) *
migrationBuilder
ÜÜ 
.
ÜÜ 
	DropTable
ÜÜ &
(
ÜÜ& '
name
áá 
:
áá 
$str
áá (
)
áá( )
;
áá) *
migrationBuilder
ââ 
.
ââ 
	DropTable
ââ &
(
ââ& '
name
ää 
:
ää 
$str
ää (
)
ää( )
;
ää) *
migrationBuilder
åå 
.
åå 
	DropTable
åå &
(
åå& '
name
çç 
:
çç 
$str
çç '
)
çç' (
;
çç( )
migrationBuilder
èè 
.
èè 
	DropTable
èè &
(
èè& '
name
êê 
:
êê 
$str
êê (
)
êê( )
;
êê) *
migrationBuilder
íí 
.
íí 
	DropTable
íí &
(
íí& '
name
ìì 
:
ìì 
$str
ìì (
)
ìì( )
;
ìì) *
migrationBuilder
ïï 
.
ïï 
	DropTable
ïï &
(
ïï& '
name
ññ 
:
ññ 
$str
ññ #
)
ññ# $
;
ññ$ %
migrationBuilder
òò 
.
òò 
	DropTable
òò &
(
òò& '
name
ôô 
:
ôô 
$str
ôô #
)
ôô# $
;
ôô$ %
migrationBuilder
õõ 
.
õõ 
	DropTable
õõ &
(
õõ& '
name
úú 
:
úú 
$str
úú "
)
úú" #
;
úú# $
migrationBuilder
ûû 
.
ûû 
	DropTable
ûû &
(
ûû& '
name
üü 
:
üü 
$str
üü !
)
üü! "
;
üü" #
}
†† 	
}
°° 
}¢¢ ı
WC:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Helpers\PaginatedList.cs
	namespace 	
BusinessLogic
 
. 
Helpers 
{ 
public 

class 
	PagedList 
< 
T 
> 
: 
List  $
<$ %
T% &
>& '
{ 
private 
	PagedList 
( 
IEnumerable %
<% &
T& '
>' (
currentPage) 4
,4 5
int6 9
count: ?
,? @
intA D

pageNumberE O
,O P
intQ T
pageSizeU ]
)] ^
{ 	
CurrentPage		 
=		 

pageNumber		 $
;		$ %
PageSize

 
=

 
pageSize

 
;

  

TotalCount 
= 
count 
; 
AddRange 
( 
currentPage  
)  !
;! "
} 	
public 
int 
CurrentPage 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
PageSize 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 

TotalCount 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 

TotalPages 
=>  
(! "
int" %
)% &
Math& *
.* +
Ceiling+ 2
(2 3

TotalCount3 =
/> ?
(@ A
doubleA G
)G H
PageSizeH P
)P Q
;Q R
public 
bool  
IsPreviousPageExists (
=>) +
CurrentPage, 7
>8 9
$num: ;
;; <
public 
bool 
IsNextPageExists $
=>% '
CurrentPage( 3
<4 5

TotalPages6 @
;@ A
public 
static 
async 
Task  
<  !
	PagedList! *
<* +
T+ ,
>, -
>- .
CreateAsync/ :
(: ;

IQueryable; E
<E F
TF G
>G H
sourceI O
,O P
intQ T

pageNumberU _
,_ `
inta d
pageSizee m
)m n
{ 	
var 
count 
= 
await 
source $
.$ %

CountAsync% /
(/ 0
)0 1
;1 2
var 
items 
= 
await 
source $
.$ %
Skip% )
() *
(* +

pageNumber+ 5
-6 7
$num8 9
)9 :
*; <
pageSize= E
)E F
.F G
TakeG K
(K L
pageSizeL T
)T U
.U V
ToListAsyncV a
(a b
)b c
;c d
return 
new 
	PagedList  
<  !
T! "
>" #
(# $
items$ )
,) *
count+ 0
,0 1

pageNumber2 <
,< =
pageSize> F
)F G
;G H
} 	
} 
} ∆

]C:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Helpers\IQuerableExtensions.cs
	namespace 	

DataAccess
 
. 
Helpers 
{		 
public

 

static

 
class

 
IQuerableExtensions

 +
{ 
public 
static 
async 
Task  
<  !

IQueryable! +
<+ ,
T, -
>- .
>. /
PaginateAsync0 =
<= >
T> ?
>? @
(@ A
thisA E

IQueryableF P
<P Q
TQ R
>R S
sourceT Z
,Z [
int\ _

pageNumber` j
,j k
intl o
pageSizep x
)x y
{ 	
var 
count 
= 
await 
source $
.$ %

CountAsync% /
(/ 0
)0 1
;1 2
return 
source 
. 
Skip 
( 
(  

pageNumber  *
-+ ,
$num- .
). /
*0 1
pageSize2 :
): ;
.; <
Take< @
(@ A
pageSizeA I
)I J
;J K
} 	
} 
} Ü
SC:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Enum\CategorySlug.cs
	namespace 	

DataAccess
 
. 
Enum 
{ 
public 

enum 
CategorySlug 
{ 
Hotels 
, 
Restaurants 
, 
Sports 
, 
Beauty 
, 
Medical		 
,		 

Conference

 
,

 
	Coworking 
, 
	CarRental 
, 
AutoService 
, 
Entertainment 
} 
} §
TC:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Enum\BookingStatus.cs
	namespace 	

DataAccess
 
. 
Enum 
{ 
public 

enum 
BookingStatus 
{ 
Pending 
, 
	Confirmed 
, 
	Cancelled 
, 
	Completed 
}		 
}

 V
TC:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Data\ShopDbContext.csÈ
bC:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Data\ReservationServiceDbContext.cs
	namespace 	

DataAccess
 
. 
Data 
{ 
public 

class '
ReservationServiceDbContext ,
:- .
IdentityDbContext/ @
<@ A
UserA E
>E F
{ 
public		 '
ReservationServiceDbContext		 *
(		* +
)		+ ,
{

 	
} 	
public '
ReservationServiceDbContext *
(* +
DbContextOptions+ ;
<; <'
ReservationServiceDbContext< W
>W X
optionsY `
)` a
:b c
based h
(h i
optionsi p
)p q
{r s
}t u
public 
DbSet 
< 
Resource 
> 
	Resources (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
DbSet 
< 
Category 
> 

Categories )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
DbSet 
< 
Reservation  
>  !
Reservations" .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
DbSet 
< 
RefreshToken !
>! "
RefreshTokens# 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
=? @
defaultA H
!H I
;I J
}++ 
},, ¨
TC:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Data\Entities\User.cs
	namespace 	

DataAccess
 
. 
Data 
. 
Entities "
{ 
public 

class 
User 
: 
IdentityUser $
,$ %

BaseEntity& 0
{ 
public 
string 
Login 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public 
string 
? 
FullName 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
$str0 2
;2 3
public		 
DateTime		 
?		 
	Birthdate		 "
{		# $
get		% (
;		( )
set		* -
;		- .
}		/ 0
public

 
decimal

 
Balance

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
=

- .
$num

/ 0
;

0 1
public 
ICollection 
< 
Reservation &
>& '
?' (
Reservations) 5
{6 7
get8 ;
;; <
set= @
;@ A
}B C
public 
ICollection 
< 
RefreshToken '
>' (
RefreshTokens) 6
{7 8
get9 <
;< =
set> A
;A B
}C D
=E F
newG J
ListK O
<O P
RefreshTokenP \
>\ ]
(] ^
)^ _
;_ `
} 
} Ô
XC:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Data\Entities\Resource.cs
	namespace 	

DataAccess
 
. 
Data 
. 
Entities "
{ 
public 

class 
Resource 
: 

BaseEntity &
{ 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public		 
string		 
Name		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
=		) *
default		+ 2
!		2 3
;		3 4
public

 
string

 
?

 
Description

 "
{

# $
get

% (
;

( )
set

* -
;

- .
}

/ 0
public 
decimal 
PricePerHour #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
string 
ImageUrl 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 
decimal 
PriceByHour "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
bool 
IsActive 
{ 
get "
;" #
set$ '
;' (
}) *
=+ ,
true- 1
;1 2
public 
CategorySlug 
CategorySlug (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
Guid 

CategoryId 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
Category 
? 
Category !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} à
[C:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Data\Entities\Reservation.cs
	namespace 	

DataAccess
 
. 
Data 
. 
Entities "
{ 
public 

class 
Reservation 
: 

BaseEntity )
{ 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public		 
int		 
UserId		 
{		 
get		 
;		  
set		! $
;		$ %
}		& '
public

 
User

 
?

 
User

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
int 

ResourceId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
Resource 
? 
Resource !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
DateTime 
	StartTime !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
DateTime 
EndTime 
{  !
get" %
;% &
set' *
;* +
}, -
public 
BookingStatus 
Status #
{$ %
get& )
;) *
set+ .
;. /
}0 1
=2 3
BookingStatus4 A
.A B
PendingB I
;I J
public 
decimal 

TotalPrice !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
? 
Notes 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ≈
\C:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Data\Entities\RefreshToken.cs
	namespace 	

DataAccess
 
. 
Data 
. 
Entities "
{ 
public 

class 
RefreshToken 
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
Token 
{ 
get !
;! "
set# &
;& '
}( )
=* +
default, 3
!3 4
;4 5
public 
DateTime 
Expires 
{  !
get" %
;% &
set' *
;* +
}, -
public 
bool 
	IsExpired 
=>  
DateTime! )
.) *
UtcNow* 0
>=1 3
Expires4 ;
;; <
public		 
DateTime		 
Created		 
{		  !
get		" %
;		% &
set		' *
;		* +
}		, -
=		. /
DateTime		0 8
.		8 9
UtcNow		9 ?
;		? @
public

 
string

 
CreatedByIp

 !
{

" #
get

$ '
;

' (
set

) ,
;

, -
}

. /
=

0 1
default

2 9
!

9 :
;

: ;
public 
DateTime 
? 
Revoked  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
? 
RevokedByIp "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
bool 
IsActive 
=> 
Revoked  '
==( *
null+ /
&&0 2
!3 4
	IsExpired4 =
;= >
public 
string 
UserId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
User 
? 
User 
{ 
get 
;  
set! $
;$ %
}& '
} 
} ò
XC:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Data\Entities\Category.cs
	namespace 	

DataAccess
 
. 
Data 
. 
Entities "
{ 
public 

class 
Category 
: 

BaseEntity &
{ 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public		 
CategorySlug		 
Slug		  
{		! "
get		# &
;		& '
set		( +
;		+ ,
}		- .
public

 
IEnumerable

 
<

 
Resource

 #
>

# $
?

$ %
	Resources

& /
{

0 1
get

2 5
;

5 6
set

7 :
;

: ;
}

< =
} 
}  
ZC:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Data\Entities\BaseEntity.cs
	namespace 	

DataAccess
 
. 
Data 
. 
Entities "
{ 
public		 

	interface		 

BaseEntity		 
{

 
} 
} V
TC:\Users\111\Desktop\qqqq\APIWeb\ReservationService\DataAccess\Data\DbInitializer.cs